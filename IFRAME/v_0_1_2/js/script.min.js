!function(t,i){"object"==typeof exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Spinner=i()}(this,function(){"use strict";function t(t,i){var e,n=document.createElement(t||"div");for(e in i)n[e]=i[e];return n}function i(t){for(var i=1,e=arguments.length;e>i;i++)t.appendChild(arguments[i]);return t}function e(t,i,e,n){var s=["opacity",i,~~(100*t),e,n].join("-"),o=.01+e/n*100,r=Math.max(1-(1-t)/i*(100-o),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),h=a&&"-"+a+"-"||"";return u[s]||(d.insertRule("@"+h+"keyframes "+s+"{0%{opacity:"+r+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+i)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",d.cssRules.length),u[s]=1),s}function n(t,i){var e,n,s=t.style;for(i=i.charAt(0).toUpperCase()+i.slice(1),n=0;n<l.length;n++)if(e=l[n]+i,void 0!==s[e])return e;return void 0!==s[i]?i:void 0}function s(t,i){for(var e in i)t.style[n(t,e)||e]=i[e];return t}function o(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function r(t,i){return"string"==typeof t?t:t[i%t.length]}function a(t){this.opts=o(t||{},a.defaults,p)}function h(){function e(i,e){return t("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,n){function o(){return s(e("group",{coordsize:l+" "+l,coordorigin:-c+" "+-c}),{width:l,height:l})}function a(t,a,h){i(d,i(s(o(),{rotation:360/n.lines*t+"deg",left:~~a}),i(s(e("roundrect",{arcsize:n.corners}),{width:c,height:n.width,left:n.radius,top:-n.width>>1,filter:h}),e("fill",{color:r(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}var h,c=n.length+n.width,l=2*c,u=2*-(n.width+n.length)+"px",d=s(o(),{position:"absolute",top:u,left:u});if(n.shadow)for(h=1;h<=n.lines;h++)a(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=n.lines;h++)a(h);return i(t,d)},a.prototype.opacity=function(t,i,e,n){var s=t.firstChild;n=n.shadow&&n.lines||0,s&&i+n<s.childNodes.length&&(s=s.childNodes[i+n],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=e))}}var c,l=["webkit","Moz","ms","O"],u={},d=function(){var e=t("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(i){this.stop();{var e=this,n=e.opts,o=e.el=s(t(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex});n.radius+n.length+n.width}if(s(o,{left:n.left,top:n.top}),i&&i.insertBefore(o,i.firstChild||null),o.setAttribute("role","progressbar"),e.lines(o,e.opts),!c){var r,a=0,h=(n.lines-1)*(1-n.direction)/2,l=n.fps,u=l/n.speed,d=(1-n.opacity)/(u*n.trail/100),p=u/n.lines;!function f(){a++;for(var t=0;t<n.lines;t++)r=Math.max(1-(a+(n.lines-t)*p)%u*d,n.opacity),e.opacity(o,t*n.direction+h,r,n);e.timeout=e.el&&setTimeout(f,~~(1e3/l))}()}return e},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,o){function a(i,e){return s(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:i,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var h,l=0,u=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)h=s(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&e(o.opacity,o.trail,u+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&i(h,s(a("#000","0 0 4px #000"),{top:"2px"})),i(n,i(h,a(r(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,i,e){i<t.childNodes.length&&(t.childNodes[i].style.opacity=e)}});var f=s(t("group"),{behavior:"url(#default#VML)"});return!n(f,"transform")&&f.adj?h():c=n(f,"animation"),a}),function(t,i,e){var n={},s={isChrome:!1},o=parent.local_bind||function(t,i){var e=i;return function(){return e.apply(t,arguments)}},r=parent.bind_context||function(){var t,i=Array.prototype.slice.call(arguments,0),e=i.shift(0);for(t in i)e[i[t]]=o(e,e[i[t]]);i=null,e=null},a=function(e){this.options=e||{},this.isMouseDown=!1,this.touchStartPosX=0,this.currentPosX=0,this.touchStartPosY=0,this.currentPosY=0,this.isTouchSupported="ontouchstart"in t,this.element=i.querySelector(this.options.selector),this.options.context="undefined"!=typeof this.options.context?this.options.context:t,this.options.distance=this.options.distance||30,r(this,"touchmove","touchstart","touchend"),u.call(this),this.destroy=m},h=function(t){this.isTouchSupported===!0?(this.touchStartPosX=t.touches[0].clientX,this.touchStartPosY=t.touches[0].clientY):this.isMouseDown===!0&&(this.touchStartPosX=t.clientX,this.touchStartPosY=t.clientY)},c=function(t){var i;return this.isTouchSupported===!0?i=t.touches[0].clientX:this.isMouseDown===!0&&(i=t.clientX),i},l=function(t){var i;return this.isTouchSupported===!0?i=t.touches[0].clientY:this.isMouseDown&&(i=t.clientY),i},u=function(){this.isTouchSupported===!0?(this.element.addEventListener("touchstart",this.touchstart),this.element.addEventListener("touchmove",this.touchmove),this.element.addEventListener("touchend",this.touchend)):(this.element.addEventListener("mousedown",this.touchstart),i.addEventListener("mousemove",this.touchmove),this.element.addEventListener("mouseup",this.touchend))},d=function(){this.isTouchSupported?(this.element.removeEventListener("touchstart",this.touchstart),this.element.removeEventListener("touchmove",this.touchmove),this.element.removeEventListener("touchend",this.touchend)):(this.element.removeEventListener("mousedown",this.touchstart),i.removeEventListener("mousemove",this.touchmove),this.element.removeEventListener("mouseup",this.touchend))},p=function(t){switch(this.direction){case"left":this.options.onLeft&&this.options.onLeft.call(this.options.context,t);break;case"right":this.options.onRight&&this.options.onRight.call(this.options.context,t);break;case"up":this.options.onUp&&this.options.onUp.call(this.options.context,t);break;case"down":this.options.onDown&&this.options.onDown.call(this.options.context,t)}},f=function(){this.goingLeft===!0?this.direction="left":this.goingRight===!0?this.direction="right":this.goingUp===!0?this.direction="up":this.goingDown===!0&&(this.direction="down"),this.tempDirection!==this.direction&&(this.touchStartTime=new Date,this.tempDirection=this.direction)},m=function(){d.call(this),this.options.context=null,delete this.context,this.element=null,delete this.element,this.options=null,delete this.options},g=function(t){return function(i){return 1-t(1-i)}},v=function(t){return Math.pow(t,2)},w={quad:g(v)},y=function(t){t.speed="undefined"!=typeof t.speed?t.speed:60,this.touchStartTime=0,this.touchEndTime=0,this.touchMoveTime=0,this.speedX=0,this.speedY=0,this.interval=e,this.fps=1e3/60,this.duration=900,this.animationStarted=!1,this.animationStartTime=0,this.animationTimePassed=0,this.totalTicks=0,this.direction="",this.tempDirection="",this.goingLeft=!1,this.goingRight=!1,this.goingUp=!1,this.goingDown=!1,this.delta=0,this.deacceleration=t.speed-t.distance.toString().substring(0,3),r(this,"animationRunLoop"),a.apply(this,arguments)};y.prototype={constructor:y,touchstart:function(t){this.isMouseDown=!0,this.stopRunLoop(),this.touchStartTime=new Date,h.apply(this,arguments),this.currentPosX=this.touchStartPosX,this.currentPosY=this.touchStartPosY,this.startPosX=this.touchStartPosX,this.startPosY=this.touchStartPosY,this.options.onTouchstart&&this.options.onTouchstart.call(this.options.context,{startX:this.touchStartPosX,startY:this.touchStartPosY,event:t})},touchmove:function(t){var i=c.apply(this,arguments),e=i-this.touchStartPosX,n=l.apply(this,arguments),o=n-this.touchStartPosY,r=!1,a=!1;this.touchMoveTime=new Date,r=this.isTouchSupported!==!0||this.options.allowVerticalScrolling!==!0||this.options.onUp||this.options.onDown||s.isChrome!==!1?!0:Math.abs(e)>10&&Math.abs(o)<25?!0:!1,r===!0&&t.preventDefault(),this.goingRight=!1,this.goingLeft=!1,this.goingDown=!1,this.goingUp=!1,e>this.options.distance&&(this.touchStartPosX=i,this.goingRight=!0,a=!0),-1*e>this.options.distance&&(this.touchStartPosX=i,this.goingLeft=!0,a=!0),o>this.options.distance&&(this.touchStartPosY=n,this.goingDown=!0,a=!0),-1*o>this.options.distance&&(this.touchStartPosY=n,this.goingUp=!0,a=!0),a===!0&&(f.call(this),p.call(this,i))},handleVelocity:function(t,i){var e=Math.abs(t-this.startPosX)+this.deacceleration,n=Math.abs(i-this.startPosY)+this.deacceleration,s=this.touchEndTime-this.touchStartTime,o=e/s*10,r=n/s*10,a=!1;this.speedX=o,this.speedY=r,f.call(this),(this.speedX>1||this.speedY>1)&&(a=!0),a===!0&&this.startRunLoop()},animationRunLoop:function(){var t,i;this.animationStarted===!1&&(this.startTime=new Date,this.animationStarted=!0),this.totalTicks++,this.timePassed=new Date-this.startTime,t=this.timePassed/this.duration,t>1&&(t=1),t=w.quad(t),i=Math.ceil("left"==this.direction||"right"==this.direction?this.speedX*t:this.speedY*t),this.delta!=i&&(this.delta=i,p.call(this)),1===t&&this.stopRunLoop()},touchend:function(t){this.touchEndTime=new Date;var i=this.touchEndTime-this.touchMoveTime,e=new Date(i).getTime()/1e3;this.options.enableMomentum===!0&&.2>e&&this.options.speed>0&&this.handleVelocity(this.touchStartPosX,this.touchStartPosY),this.touchstartX=0,this.touchstartY=0,this.isMouseDown=!1,this.options.onTouchend&&this.options.onTouchend.call(this.options.context,{event:t})},startRunLoop:function(){this.interval=setInterval(this.animationRunLoop,this.fps)},stopRunLoop:function(){clearInterval(this.interval),this.totalTicks=0,this.animationStarted=!1,this.direction="",this.tempDirection="",this.goingLeft=!1,this.goingRight=!1,this.goingUp=!1,this.goingDown=!1}};var b=function(){a.apply(this,arguments)};b.prototype={constructor:b,alreadySwiped:!1,touchstart:function(t){this.isMouseDown=!0,this.alreadySwiped=!1,h.apply(this,arguments),this.currentPosX=this.touchStartPosX,this.currentPosY=this.touchStartPosY,this.options.onTouchstart&&this.options.onTouchstart.call(this.options.context,{startX:this.touchStartPosX,startY:this.touchStartPosY,event:t})},touchmove:function(t){if(this.isMouseDown!==!1&&this.alreadySwiped!==!0){var i=c.apply(this,arguments),e=i-this.touchStartPosX,n=l.apply(this,arguments),o=n-this.touchStartPosY,r=!1;this.options.onTouchmove&&this.options.onTouchmove.call(this.options.context,{currentX:i,currentY:n,startX:this.touchStartPosX,startY:this.touchStartPosY,event:t}),r=this.isTouchSupported!==!0||this.options.allowVerticalScrolling!==!0||this.options.onUp||this.options.onDown||s.isChrome!==!1?!0:Math.abs(e)>10&&Math.abs(o)<25?!0:!1,r===!0&&t.preventDefault(),e>this.options.distance&&(this.touchStartPosX=i,this.alreadySwiped=!0,this.options.onRight&&this.options.onRight.call(this.options.context,{currentX:i,currentY:n,event:t})),-1*e>this.options.distance&&(this.touchStartPosX=i,this.alreadySwiped=!0,this.options.onLeft&&this.options.onLeft.call(this.options.context,{currentX:i,currentY:n,event:t})),o>this.options.distance&&(this.touchStartPosY=n,this.alreadySwiped=!0,this.options.onDown&&this.options.onDown.call(this.options.context,{currentX:i,currentY:n,event:t})),-1*o>this.options.distance&&(this.touchStartPosY=n,this.alreadySwiped=!0,this.options.onUp&&this.options.onUp.call(this.options.context,{currentX:i,currentY:n,event:t}))}},touchend:function(t){this.touchstartX=0,this.touchstartY=0,this.isMouseDown=!1,this.alreadySwiped=!1,this.options.onTouchend&&this.options.onTouchend.call(this.options.context,{event:t})}},n.onTouchMove=function(t){return new y(t)},n.onTouchSwipe=function(t){return new b(t)},t.Sense=n}(this,document),!function(t,e){var n={},s={},o=function(t,i){var e=i;return function(){return e.apply(t,arguments)}},r=function(){var t=Array.prototype.slice.call(arguments,0),e=t.shift(0);for(i in t)e[t[i]]=o(e,e[t[i]]);t=null,e=null},a=Array.prototype.splice,h=Array.prototype.push,c=function(t){var i;for(i=0;i<this.length;i++)t.call(this,i)},l=function(t){var i;for(i in t)this[i]=t[i];i=null},u=function(){s.browser=Array.prototype.slice.call(e.defaultView.getComputedStyle(e.body,"")).join("").match(/(?:-(moz|webkit|ms|khtml)-)/)},d=function(){s.isTouchSupported="ontouchstart"in t},p=function(){var t,i=navigator.userAgent.toLowerCase();s.isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=/android/i.test(i)?"android":/iphone/i.test(i)?"iphone":/ipad/i.test(i)?"ipad":"other",s.deviceName=t},f=function(){var t=e.querySelector("body");s.supportsClassList="undefined"!=typeof t.classList?!0:!1,t=null},m=function(){u(),d(),p(),f()};n.extend=l,n.debug=!0,n.lib_version="1.5.0",n.lib_creator="Ian Calderon",n.log=function(i){this.debug&&t.console&&console.log(i)},n.defer=function(t,i){return setTimeout(t,i)},n.getBrowserPrefix=function(){return s.browser},n.supportsTouch=function(){return s.isTouchSupported},n.isMobileDevice=function(){return s.isMobileDevice},n.deviceName=function(){return s.deviceName},n.bindContext=r,m(),function(){var i="queryInstance",o="htmlElement",r="stringObject",l="windowObject",u=function(t,i){return new u.fn.initialize(t,i)},d=function(e){var n;return e instanceof u?n=i:e.nodeName?n=o:"string"==typeof e?n=r:e===t&&(n=l),n},p=function(t,n){var s=d(t),a=[],h="undefined"!=typeof n?n[0]:e;switch(s){case i:a.push(t.getElement());break;case o:case l:a.push(t);break;case r:a=h.querySelectorAll(t)}return a},f=function(t,i){var e=0;return t.splice=a,t.push=h,c.call(i,function(n){var s=i[n],r=d(s);r===o&&(h.call(t,s),e++)}),el=null,t.length=e,t},m=function(t,i){var e,n;return i&&(e=p(i)),n="undefined"!=typeof e?p(t,e):p(t),f(this,n)},g=function(){return c.call(this,function(t){this[t]=null,a.call(this,this[t])}),v.call(this),this},v=function(){var t;for(t in this)this[t]!==a&&(delete this[t],this[t]=null);this.length=0,t=null},w=function(t){var e,n=d(this);return n===i?e=this[0]:n===o&&(e=this),!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},y=function(t){var i;i=t.split(" "),c.call(this,function(t){var e=this[t],n=e.className.split(" ");c.call(i,function(t){var i=this[t];w.call(e,i)||n.push(i)}),e.className=String.prototype.trim.call(n.join(" ")),e=null,n=null})},b=function(t){c.call(this,function(i){var e,n=this[i],s=n.className,o=s.split(" "),r=t.split(" ");c.call(r,function(t){var i=r[t];w.call(n,i)&&(e=new RegExp("(\\s|^)"+i+"(\\s|$)"),s=s.replace(e," "))}),n.className=String.prototype.trim.call(s),o=null,n=null})};u.fn=u.prototype={constructor:u,initialize:function(t,i){return m.call(this,t,i)},get:function(t){return new u(this.getElement(t))},getElement:function(t){return t=t||0,this[t]},getParent:function(){return new u(this.getElement(0).parentNode)},getAttr:function(t){return this.getElement(0).getAttribute(t)||!1},setAttr:function(t,i){return this.getElement(0).setAttribute(t,i)},removeAttr:function(t){return this.getElement(0).removeAttribute(t)},hasClass:w,addClass:function(t){var i;return t&&(s.supportsClassList?(i=t.split(" "),c.call(this,function(t){var e=this[t];e.classList.add(i),e=null})):y.apply(this,arguments)),this},removeClass:function(t){var i;return t&&(s.supportsClassList?(i=t.split(" "),c.call(this,function(t){var e=this[t];e.classList.remove(i),e=null})):b.apply(this,arguments)),this},setCss:function(t){return c.call(this,function(i){var e=this[i];e.style.cssText+=t,e=null}),this},on:function(t,i){return c.call(this,function(e){var n=this[e];n.addEventListener(t,i,!1),n=null}),this},off:function(t,i){return c.call(this,function(e){var n=this[e];n.removeEventListener(t,i),n=null}),this},html:function(t){var e=d(t);e===r?c.call(this,function(i){var e=this[i];e.innerHTML=t,e=null}):e===o?c.call(this,function(i){var e=this[i];e.innerHTML="",e.appendChild(t),e=null}):e===i&&c.call(this,function(i){var e=this[i];e.innerHTML="",e.appendChild(t.getElement()),e=null})},appendHtml:function(t){var e=d(t);e===o?c.call(this,function(i){var e=this[i];e.appendChild(t),e=null}):e===i&&c.call(this,function(i){var e=this[i];e.appendChild(t.getElement()),e=null})},prependHtml:function(t){var e=d(t);e===o?c.call(this,function(i){var e=this[i];e.insertBefore(t,e.childNodes[0]),e=null}):e===i&&c.call(this,function(i){var e=this[i];e.insertBefore(t.getElement(),e.childNodes[0]),e=null})},remove:function(){return c.call(this,function(t){var i=this[t].parentNode,e=this[t];i.removeChild(e),i=null,e=null}),this},destroy:function(){return g.call(this),this}},u.fn.initialize.prototype=u.fn,n.extend({q:u})}(),function(){var t=0,i=function(t){var e=function(){a.apply(this,arguments)};return l.call(e.prototype,this.prototype),l.call(e.prototype,t),e.prototype.super=this.prototype,e.prototype.constructor=this,e.extend=i,e},s=function(i){this.id="view"+t++,this.options=i||{},o.call(this),this.options.parent&&r.call(this),this.children=null,this.setDOMReferences&&this.setDOMReferences(),this.setListeners&&this.setListeners(),this.initialize&&this.initialize()},o=function(t){var i=t||this.viewSelector;this.view&&(this.$view.destroy(),this.$view=null,delete this.$view,this.view=null,delete this.view),i&&(this.$view=n.q(i),this.view=e.querySelector(i))},r=function(){this.parent=null,this.parent=this.options.parent},a=function(){s.apply(this,arguments)};a.prototype={constructor:a,destroy:function(){this.removeDOMReferences&&this.removeDOMReferences(),this.removeListeners&&this.removeListeners(),this.removeElement()},removeDOMReferences:function(){},removeListeners:function(){},setElement:o,setParent:r},a.extend=i,n.extend({ViewController:a})}(),function(){var t={lib_version:"1.1.0",lib_creator:"Ian Calderon"},i={},e=0;t.subscribe=function(t,n,s){var o="keyId"+ ++e;return i[t]||(i[t]=[]),i[t][o]={callback:n,context:s},o},t.publish=function(t,e){if("undefined"!=typeof t){var n,s,o;if(e=e||{},i[t]){n=i[t];for(o in n)s=n[o],s.callback.call(s.context,e),s=null;n=null,o=null}}},t.unsubscribe=function(t,e){i[t]&&i[t][e]&&(i[t][e].callback=null,i[t][e].context=null,delete i[t][e].callback,delete i[t][e].context,i[t][e]=null,delete i[t][e])},t.removePublication=function(t){var e;if(i[t]){for(e in i[t])i[t][e]=null,delete i[t][e];i[t]=null,delete i[t]}e=null},n.extend({Observer:t})}(),function(){var t=0,i=function(){this.lib_creator="Ian Calderon",this.lib_version="1.0",this.id=t++,this.items={},this.length=0};i.prototype={lib_creator:"Ian Calderon",lib_version:"1.0",constructor:i,add:function(t,i){return this.items[t]||(this.items[t]=i,this.length++),this},remove:function(t){return this.items[t]&&(this.items[t]=null,delete this.items[t],this.length--),this},replace:function(t,i){return this.items[t]&&(this.removeItemForKey(t),this.setItemForKey(t,i)),this},get:function(t){return this.items[t]},clear:function(){var t=this;return this.each(function(i,e){t.removeItemForKey(e)}),this.items={},t=null,this},each:function(t){var i;for(i in this.items)t(this.items[i],i);return i=null,this}},n.extend({Collection:i})}(),t.coreJS=c$=n}(this,document);var APP={};!function(t,i,e,n,s){function o(){r=new S}n.userConf=e,n.Classes={},n.author="Ian Calderon",n.version="0.1.2";var r,a,h,c,l,u,d,p=600,f={tab:{w:0,h:0},win:{w:0,h:0}},m=function(){this.Fetcher=new n.Classes.Fetch(this,!1),y(),this.setListeners()},g=function(){var e,n;i.body&&i.body.offsetWidth&&(e=i.body.offsetWidth,n=i.body.offsetHeight),"CSS1Compat"==i.compatMode&&i.documentElement&&i.documentElement.offsetWidth&&(e=i.documentElement.offsetWidth,n=i.documentElement.offsetHeight),t.innerWidth&&t.innerHeight&&(e=t.innerWidth,n=t.innerHeight),f.win.w=e,f.win.h=n},v=function(){g(),w()},w=function(){var t="width:"+f.win.w+"px; height:"+f.win.h+"px;",i="background-size: "+f.win.w+"px "+f.win.h+"px;";a.setCss(t),h.setCss(t+i),c.setCss(i),u.setCss("top:"+(f.win.h/2-f.tab.h/2)+"px;"),l.setCss("height:"+f.win.h+"px;")},y=function(){var t,n,o;a=s.q("#container").setCss(C(e.container.styles)),h=s.q("#beforeContainer"),c=s.q("#afterContainer"),o=i.createElement("div"),o.id="slider",l=s.q(o),a.appendHtml(l),t=i.createElement("div"),t.id="tab",u=s.q(t),l.appendHtml(u),n=i.createElement("div"),n.id="rail",d=s.q(n),l.appendHtml(d),o=null,t=null,n=null},b=function(){{var t=this.Fetcher.images.tab,i=(this.Fetcher.images.rail,this.Fetcher.images.before),n=this.Fetcher.images.after;e.container.height/2-this.Fetcher.images.tab.height/2}f.tab.w=t.width,f.tab.h=t.height,h.setCss(" background-image:url("+i.src+");"),c.setCss(" background-image:url("+n.src+");"),l.setCss("width:"+t.width+"px;"),t&&u.setCss("width:"+t.width+"px; height:"+t.height+"px; background-image:url("+t.src+"); background-size: "+t.width+"px "+t.height+"px;"),u.setCss(C(e.slider.tab.styles)),d.setCss("width:"+e.slider.rail.width+"px; margin-left:"+e.slider.rail.width/2*-1+"px;"+C(e.slider.rail.styles))},C=function(t){var i,e,n="";if("undefined"!=typeof t)for(i in t)e=i+":"+t[i]+";",n+=e;return n},S=function(){m.apply(this,arguments)};S.prototype={constructor:S,initialAnimationComplete:!1,sliderPos:0,initialize:function(){var t=this;b.call(this),v(),this.positionSlider(0,!0),n.Loading.hide(function(){t.initialAnim(),t=null})},initialAnim:function(){var t;t=this,c.addClass("initial"),l.addClass("initial"),s.defer(function(){t.positionSlider(f.win.w/2,!0)},0),s.defer(function(){t.initialAnimationComplete=!0,c.removeClass("initial"),l.removeClass("initial"),t=null},p)},setListeners:function(){s.bindContext(this,"onWindowResize"),Sense.onTouchMove({context:this,distance:1,selector:"#container",allowVerticalScrolling:!0,onLeft:this.positionSlider,onRight:this.positionSlider,onTouchstart:function(t){this.initialAnimationComplete===!1&&(c.removeClass("initial"),l.removeClass("initial")),this.positionSlider(t.startX,!0),this.activateTab()},onTouchend:function(){this.deactivateTab()}}),t.addEventListener("resize",this.onWindowResize),t.addEventListener("orientationchange",this.onWindowResize)},activateTab:function(){this.Fetcher.images.tab_on&&(u.setCss("background-image:url("+this.Fetcher.images.tab_on.src+"); cursor: ew-resize;"),a.setCss("cursor: ew-resize;"))},deactivateTab:function(){this.Fetcher.images.tab_on&&(u.setCss("background-image:url("+this.Fetcher.images.tab.src+"); ursor: pointer;"),a.setCss("cursor: pointer;"))},onWindowResize:function(){v(),this.updateAllElements()},onAllImagesLoaded:function(){this.initialize()},updateAllElements:function(){var t=this.sliderPos*f.win.w/100;0>t&&(t=0),t>f.win.w-f.tab.w&&(t=f.win.w-f.tab.w),c.setCss("width:"+t+"px;"),l.setCss("left:"+(t-f.tab.w/2)+"px;")},positionSlider:function(t){this.sliderPos=100*t/f.win.w,0>t&&(t=0),t>f.win.w&&(t=f.win.w),c.setCss("width:"+t+"px;"),l.setCss("left:"+(t-f.tab.w/2)+"px;")}},t.addEventListener("load",o),n.reload=n.load=function(){r.initialAnimationComplete=!1,n.Loading.isVisible()===!0?r.Fetcher.reload():n.Loading.show(function(){r.Fetcher.reload()})}}(this,document,APP_CONF,APP,c$),function(t,i,e,n,s){var o,r,a,h=200,c=300,l="on",u="show",d=function(t){this.conf=t||{},a=!1,t.spinnerColor=t.spinnerColor||"#fff",t.bgColor=t.bgColor||"rgba(0,0,0,0.7)",o=n.q("#loadingOverlay"),o.setCss("background-color:"+t.bgColor+";"),r=new s({length:10,width:4,radius:15,color:t.spinnerColor,top:"50%",left:"50%"}),a=!0,p()},p=function(){r.spin(o.getElement())},f=function(){r.stop()},m=function(){d.apply(this,arguments)};m.prototype={constructor:m,show:function(t){a!==!0&&(a=!0,o.addClass(u),n.defer(function(){p(),o.addClass(l)},0),n.defer(function(){t()},h))},hide:function(t){a!==!1&&this.conf.test!==!0&&(n.defer(function(){o.removeClass(l)},c),n.defer(function(){o.removeClass(u),f(),a=!1,t()},h+c))},isVisible:function(){return a}},e.Loading=new m(e.userConf.loader)}(this,document,APP,c$,Spinner),function(t,i,e,n){var s=function(t,i){n.bindContext(this,"imageLoaded"),this.parent=t,o.call(this),i===!0&&r.call(this)},o=function(){var t=e.userConf.images,i=e.userConf.slider;this.imageURLs.before=t.before,this.imageURLs.after=t.after,i.tab.img&&(this.imageURLs.tab=i.tab.img),i.tab.img_on&&(this.imageURLs.tab_on=i.tab.img_on),i.rail.img&&(this.imageURLs.rail=i.rail.img)},r=function(){var t,i=0;for(t in this.imageURLs)this.imageURLs[t]&&(this.images[t]=new Image,this.images[t].addEventListener("load",this.imageLoaded),this.images[t].addEventListener("error",this.onLoadError),this.images[t].src=this.imageURLs[t],i++);this.imageCount=i},a=function(){s.apply(this,arguments)};a.prototype={imageURLs:{},images:{},imageCount:0,loadedImageCount:0,constructor:a,imageLoaded:function(){this.loadedImageCount++,this.loadedImageCount===this.imageCount&&this.onAllImagesLoaded()},onLoadError:function(t){console.log("Error Loading Image: ",t)},onAllImagesLoaded:function(){this.parent.onAllImagesLoaded()},reload:function(){this.imageURLs={},this.images={},this.imageCount=0,this.loadedImageCount=0,o.call(this),r.call(this)}},e.Classes.Fetch=a}(this,document,APP,c$);